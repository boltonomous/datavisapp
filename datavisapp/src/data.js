
const data = [{'0_60': 8.3, 'mpg': 45}, {'0_60': 6, 'mpg': 34}, {'0_60': 7.7, 'mpg': 47}, {'0_60': 6.6, 'mpg': 18}, {'0_60': 7.7, 'mpg': 30}, {'0_60': 6.1, 'mpg': 26}, {'0_60': 8.4, 'mpg': 39}, {'0_60': 5.5, 'mpg': 24}, {'0_60': 6.4, 'mpg': 29}, {'0_60': 7.3, 'mpg': 27}, {'0_60': 4.3, 'mpg': 19}, {'0_60': 8.1, 'mpg': 23}, {'0_60': 4.6, 'mpg': 25}, {'0_60': 6.7, 'mpg': 29}, {'0_60': 9.4, 'mpg': 28}, {'0_60': 7.1, 'mpg': 31}, {'0_60': 6.7, 'mpg': 27}, {'0_60': 5.2, 'mpg': 37}, {'0_60': 2.7, 'mpg': 24}, {'0_60': 6.2, 'mpg': 23}, {'0_60': 7.4, 'mpg': 44}, {'0_60': 4.8, 'mpg': 30}, {'0_60': 8.3, 'mpg': 42}, {'0_60': 6.6, 'mpg': 23}, {'0_60': 7.8, 'mpg': 43}, {'0_60': 7.5, 'mpg': 39}, {'0_60': 6.1, 'mpg': 34}, {'0_60': 7.3, 'mpg': 31}, {'0_60': 6.6, 'mpg': 28}, {'0_60': 6.6, 'mpg': 18}, {'0_60': 7.1, 'mpg': 26}, {'0_60': 6.2, 'mpg': 23}, {'0_60': 7.6, 'mpg': 21}, {'0_60': 5.7, 'mpg': 25}, {'0_60': 8.7, 'mpg': 42}, {'0_60': 7, 'mpg': 22}, {'0_60': 4.3, 'mpg': 18}, {'0_60': 7.8, 'mpg': 39}, {'0_60': 6.5, 'mpg': 32}, {'0_60': 7.3, 'mpg': 23}, {'0_60': 7.8, 'mpg': 23}, {'0_60': 4.3, 'mpg': 30}, {'0_60': 3.2, 'mpg': 28}, {'0_60': 9.3, 'mpg': 28}, {'0_60': 7.6, 'mpg': 30}, {'0_60': 7.2, 'mpg': 45}, {'0_60': 5.1, 'mpg': 26}, {'0_60': 5.1, 'mpg': 27}, {'0_60': 6.6, 'mpg': 28}, {'0_60': 6.3, 'mpg': 39}, {'0_60': 7.5, 'mpg': 19}, {'0_60': 5.6, 'mpg': 31}, {'0_60': 5.4, 'mpg': 41}, {'0_60': 5.9, 'mpg': 31}, {'0_60': 4.1, 'mpg': 26}, {'0_60': 7.4, 'mpg': 34}, {'0_60': 7.1, 'mpg': 28}, {'0_60': 3.5, 'mpg': 31}, {'0_60': 7, 'mpg': 32}, {'0_60': 3.8, 'mpg': 27}, {'0_60': 5.9, 'mpg': 18}, {'0_60': 4, 'mpg': 36}, {'0_60': 5.9, 'mpg': 28}, {'0_60': 4.8, 'mpg': 26}, {'0_60': 6.7, 'mpg': 31}, {'0_60': 7.3, 'mpg': 33}, {'0_60': 4, 'mpg': 26}, {'0_60': 6.5, 'mpg': 31}, {'0_60': 5.1, 'mpg': 22}, {'0_60': 3.6, 'mpg': 32}, {'0_60': 6.2, 'mpg': 38}, {'0_60': 7.1, 'mpg': 27}, {'0_60': 7.4, 'mpg': 22}, {'0_60': 4.3, 'mpg': 32}, {'0_60': 7.7, 'mpg': 21}, {'0_60': 5.8, 'mpg': 21}, {'0_60': 7.6, 'mpg': 32}, {'0_60': 10.5, 'mpg': 46}, {'0_60': 4.5, 'mpg': 23}, {'0_60': 8, 'mpg': 38}, {'0_60': 5.8, 'mpg': 19}, {'0_60': 8.4, 'mpg': 42}, {'0_60': 6, 'mpg': 28}, {'0_60': 3.6, 'mpg': 26}, {'0_60': 6.5, 'mpg': 30}, {'0_60': 4.4, 'mpg': 18}, {'0_60': 4, 'mpg': 33}, {'0_60': 3.9, 'mpg': 24}, {'0_60': 6, 'mpg': 29}, {'0_60': 6.1, 'mpg': 23}, {'0_60': 5, 'mpg': 28}, {'0_60': 9.5, 'mpg': 32}, {'0_60': 5.1, 'mpg': 24}, {'0_60': 7.2, 'mpg': 17}, {'0_60': 6.3, 'mpg': 33}, {'0_60': 6.4, 'mpg': 17}, {'0_60': 6.1, 'mpg': 20}, {'0_60': 3.4, 'mpg': 26}, {'0_60': 5.7, 'mpg': 19}, {'0_60': 9.3, 'mpg': 29}, {'0_60': 7.8, 'mpg': 37}, {'0_60': 10.1, 'mpg': 22}, {'0_60': 4.5, 'mpg': 31}, {'0_60': 6.8, 'mpg': 42}, {'0_60': 5.9, 'mpg': 36}, {'0_60': 9.4, 'mpg': 18}, {'0_60': 4.5, 'mpg': 28}, {'0_60': 6.3, 'mpg': 22}, {'0_60': 7.7, 'mpg': 37}, {'0_60': 5.1, 'mpg': 26}, {'0_60': 6.9, 'mpg': 37}, {'0_60': 6.2, 'mpg': 19}, {'0_60': 8.9, 'mpg': 28}, {'0_60': 7, 'mpg': 26}, {'0_60': 5.2, 'mpg': 32}, {'0_60': 6.2, 'mpg': 25}, {'0_60': 6.8, 'mpg': 17}, {'0_60': 5.2, 'mpg': 27}, {'0_60': 4.5, 'mpg': 23}, {'0_60': 5, 'mpg': 34}, {'0_60': 6.3, 'mpg': 27}, {'0_60': 7.6, 'mpg': 32}, {'0_60': 7, 'mpg': 43}, {'0_60': 7.9, 'mpg': 38}, {'0_60': 3.1, 'mpg': 23}, {'0_60': 7.8, 'mpg': 25}, {'0_60': 6.6, 'mpg': 16}, {'0_60': 8, 'mpg': 52}, {'0_60': 7.3, 'mpg': 22}, {'0_60': 4.4, 'mpg': 37}, {'0_60': 6.9, 'mpg': 17}, {'0_60': 8.6, 'mpg': 42}, {'0_60': 9.6, 'mpg': 39}, {'0_60': 8.9, 'mpg': 52}, {'0_60': 5.9, 'mpg': 18}, {'0_60': 3.5, 'mpg': 24}, {'0_60': 6.1, 'mpg': 37}, {'0_60': 6.6, 'mpg': 25}, {'0_60': 4.2, 'mpg': 28}, {'0_60': 7.9, 'mpg': 33}, {'0_60': 5.7, 'mpg': 25}, {'0_60': 6.5, 'mpg': 18}, {'0_60': 6.1, 'mpg': 35}, {'0_60': 5.7, 'mpg': 29}, {'0_60': 8.9, 'mpg': 29}, {'0_60': 7.7, 'mpg': 37}, {'0_60': 4.6, 'mpg': 29}, {'0_60': 4.1, 'mpg': 29}, {'0_60': 7.7, 'mpg': 14}, {'0_60': 4.3, 'mpg': 30}, {'0_60': 4.3, 'mpg': 28}, {'0_60': 7.9, 'mpg': 24}, {'0_60': 9.2, 'mpg': 34}, {'0_60': 9.1, 'mpg': 34}, {'0_60': 8.3, 'mpg': 34}, {'0_60': 9, 'mpg': 30}, {'0_60': 7.6, 'mpg': 23}, {'0_60': 4.9, 'mpg': 29}, {'0_60': 6, 'mpg': 30}, {'0_60': 10.2, 'mpg': 40}, {'0_60': 8.7, 'mpg': 40}, {'0_60': 4.1, 'mpg': 28}, {'0_60': 5.5, 'mpg': 18}, {'0_60': 5.1, 'mpg': 30}, {'0_60': 5.7, 'mpg': 32}, {'0_60': 6.3, 'mpg': 36}, {'0_60': 5.9, 'mpg': 29}, {'0_60': 3.8, 'mpg': 20}, {'0_60': 7.8, 'mpg': 22}, {'0_60': 5.7, 'mpg': 32}, {'0_60': 7.5, 'mpg': 19}, {'0_60': 4.5, 'mpg': 31}, {'0_60': 6.1, 'mpg': 18}, {'0_60': 6.9, 'mpg': 38}, {'0_60': 5.7, 'mpg': 31}, {'0_60': 5.5, 'mpg': 34}, {'0_60': 6.6, 'mpg': 33}, {'0_60': 6.3, 'mpg': 30}, {'0_60': 5.3, 'mpg': 35}, {'0_60': 3.6, 'mpg': 23}, {'0_60': 7, 'mpg': 19}, {'0_60': 8.1, 'mpg': 32}, {'0_60': 7.9, 'mpg': 44}, {'0_60': 9.5, 'mpg': 28}, {'0_60': 6.6, 'mpg': 32}, {'0_60': 5.1, 'mpg': 24}, {'0_60': 6.1, 'mpg': 38}, {'0_60': 4.2, 'mpg': 26}, {'0_60': 8, 'mpg': 41}, {'0_60': 8, 'mpg': 28}, {'0_60': 7.7, 'mpg': 37}, {'0_60': 4.5, 'mpg': 27}, {'0_60': 11, 'mpg': 37}, {'0_60': 7, 'mpg': 26}, {'0_60': 3.7, 'mpg': 23}, {'0_60': 6.6, 'mpg': 30}, {'0_60': 7.2, 'mpg': 31}, {'0_60': 5, 'mpg': 26}, {'0_60': 3.4, 'mpg': 26}, {'0_60': 5.2, 'mpg': 35}, {'0_60': 7.1, 'mpg': 19}, {'0_60': 9.1, 'mpg': 33}, {'0_60': 5.2, 'mpg': 31}, {'0_60': 5.5, 'mpg': 32}, {'0_60': 7.3, 'mpg': 20}, {'0_60': 5.3, 'mpg': 25}, {'0_60': 5.6, 'mpg': 32}, {'0_60': 4.1, 'mpg': 29}, {'0_60': 10.3, 'mpg': 47}, {'0_60': 10.5, 'mpg': 49}, {'0_60': 10.2, 'mpg': 47}, {'0_60': 4.4, 'mpg': 27}, {'0_60': 3.6, 'mpg': 28}, {'0_60': 6.3, 'mpg': 21}, {'0_60': 6.7, 'mpg': 35}, {'0_60': 4.3, 'mpg': 23}, {'0_60': 6.5, 'mpg': 27}, {'0_60': 3.4, 'mpg': 30}, {'0_60': 5.7, 'mpg': 27}, {'0_60': 7.9, 'mpg': 45}, {'0_60': 8, 'mpg': 16}, {'0_60': 7.8, 'mpg': 33}, {'0_60': 3.5, 'mpg': 17}, {'0_60': 3.8, 'mpg': 20}, {'0_60': 4.8, 'mpg': 32}, {'0_60': 3.8, 'mpg': 31}, {'0_60': 9.8, 'mpg': 38}, {'0_60': 5.4, 'mpg': 23}, {'0_60': 5.1, 'mpg': 26}, {'0_60': 5.1, 'mpg': 28}, {'0_60': 8, 'mpg': 37}, {'0_60': 6.7, 'mpg': 32}, {'0_60': 3.8, 'mpg': 21}, {'0_60': 7.5, 'mpg': 15}, {'0_60': 6.7, 'mpg': 42}, {'0_60': 5.5, 'mpg': 35}, {'0_60': 4.8, 'mpg': 20}, {'0_60': 8.9, 'mpg': 39}, {'0_60': 3.5, 'mpg': 30}, {'0_60': 4.6, 'mpg': 26}, {'0_60': 8.5, 'mpg': 39}, {'0_60': 6.1, 'mpg': 32}, {'0_60': 3.5, 'mpg': 17}, {'0_60': 5.3, 'mpg': 34}, {'0_60': 8.2, 'mpg': 41}, {'0_60': 4.5, 'mpg': 32}, {'0_60': 6.6, 'mpg': 23}, {'0_60': 9.1, 'mpg': 41}, {'0_60': 10, 'mpg': 31}, {'0_60': 10.3, 'mpg': 26}, {'0_60': 4.3, 'mpg': 33}, {'0_60': 6.1, 'mpg': 32}, {'0_60': 6.5, 'mpg': 30}, {'0_60': 5.7, 'mpg': 20}, {'0_60': 3.6, 'mpg': 31}, {'0_60': 5.5, 'mpg': 30}, {'0_60': 3.3, 'mpg': 20}, {'0_60': 4.9, 'mpg': 27}, {'0_60': 5.2, 'mpg': 27}, {'0_60': 7.3, 'mpg': 32}, {'0_60': 5, 'mpg': 29}, {'0_60': 9.2, 'mpg': 31}, {'0_60': 8.2, 'mpg': 32}, {'0_60': 8.4, 'mpg': 30}, {'0_60': 5.7, 'mpg': 22}, {'0_60': 3.4, 'mpg': 31}, {'0_60': 9.4, 'mpg': 43}, {'0_60': 5.8, 'mpg': 30}, {'0_60': 5.4, 'mpg': 26}, {'0_60': 7.2, 'mpg': 38}, {'0_60': 7.8, 'mpg': 38}, {'0_60': 5.8, 'mpg': 29}, {'0_60': 3, 'mpg': 22}, {'0_60': 6.7, 'mpg': 27}, {'0_60': 4.8, 'mpg': 30}, {'0_60': 6.8, 'mpg': 28}, {'0_60': 7.5, 'mpg': 41}, {'0_60': 4.1, 'mpg': 29}, {'0_60': 4, 'mpg': 28}, {'0_60': 6.6, 'mpg': 31}, {'0_60': 5.9, 'mpg': 19}, {'0_60': 8.9, 'mpg': 36}, {'0_60': 6.2, 'mpg': 27}, {'0_60': 5.3, 'mpg': 31}, {'0_60': 5.4, 'mpg': 29}, {'0_60': 6.1, 'mpg': 32}, {'0_60': 4.4, 'mpg': 25}, {'0_60': 8.6, 'mpg': 34}, {'0_60': 4.4, 'mpg': 29}, {'0_60': 6.1, 'mpg': 28}, {'0_60': 8.1, 'mpg': 36}, {'0_60': 5.1, 'mpg': 27}, {'0_60': 9.2, 'mpg': 32}, {'0_60': 7.2, 'mpg': 27}, {'0_60': 9, 'mpg': 40}, {'0_60': 5.9, 'mpg': 20}, {'0_60': 6.8, 'mpg': 20}, {'0_60': 7.9, 'mpg': 26}, {'0_60': 6.2, 'mpg': 31}, {'0_60': 6.7, 'mpg': 17}, {'0_60': 5, 'mpg': 27}, {'0_60': 9.2, 'mpg': 24}, {'0_60': 3.9, 'mpg': 20}, {'0_60': 9.7, 'mpg': 39}, {'0_60': 11.2, 'mpg': 43}, {'0_60': 8.3, 'mpg': 25}, {'0_60': 5.7, 'mpg': 22}, {'0_60': 7.2, 'mpg': 33}, {'0_60': 6.2, 'mpg': 29}, {'0_60': 4.7, 'mpg': 33}, {'0_60': 5.6, 'mpg': 31}, {'0_60': 5.7, 'mpg': 33}, {'0_60': 5.1, 'mpg': 24}, {'0_60': 5.1, 'mpg': 24}, {'0_60': 8.7, 'mpg': 28}, {'0_60': 5.9, 'mpg': 28}, {'0_60': 5.8, 'mpg': 25}, {'0_60': 5.1, 'mpg': 25}, {'0_60': 6.6, 'mpg': 32}, {'0_60': 7.3, 'mpg': 27}, {'0_60': 6, 'mpg': 27}, {'0_60': 6.1, 'mpg': 22}, {'0_60': 7.7, 'mpg': 36}, {'0_60': 6.4, 'mpg': 29}, {'0_60': 10.4, 'mpg': 28}, {'0_60': 3.2, 'mpg': 23}, {'0_60': 5, 'mpg': 26}, {'0_60': 6.8, 'mpg': 24}, {'0_60': 4.3, 'mpg': 28}, {'0_60': 7.2, 'mpg': 17}, {'0_60': 6.4, 'mpg': 36}, {'0_60': 4, 'mpg': 29}, {'0_60': 7, 'mpg': 33}, {'0_60': 6.4, 'mpg': 26}, {'0_60': 9.8, 'mpg': 30}, {'0_60': 5.9, 'mpg': 17}, {'0_60': 7.7, 'mpg': 43}, {'0_60': 8.6, 'mpg': 26}, {'0_60': 5.4, 'mpg': 28}, {'0_60': 5.8, 'mpg': 20}, {'0_60': 4.4, 'mpg': 29}, {'0_60': 7.2, 'mpg': 27}, {'0_60': 6.2, 'mpg': 35}, {'0_60': 7.7, 'mpg': 46}, {'0_60': 5.1, 'mpg': 34}, {'0_60': 6.1, 'mpg': 32}, {'0_60': 7.8, 'mpg': 43}, {'0_60': 8.2, 'mpg': 34}, {'0_60': 5.2, 'mpg': 29}, {'0_60': 7.5, 'mpg': 22}, {'0_60': 5.6, 'mpg': 31}, {'0_60': 7.4, 'mpg': 26}, {'0_60': 6.3, 'mpg': 32}, {'0_60': 6.6, 'mpg': 29}, {'0_60': 8.1, 'mpg': 41}, {'0_60': 8, 'mpg': 32}, {'0_60': 4.2, 'mpg': 23}, {'0_60': 7.9, 'mpg': 29}, {'0_60': 8.1, 'mpg': 26}, {'0_60': 10.7, 'mpg': 37}, {'0_60': 5.9, 'mpg': 20}, {'0_60': 5.3, 'mpg': 23}, {'0_60': 5.8, 'mpg': 34}, {'0_60': 6.2, 'mpg': 17}, {'0_60': 7, 'mpg': 38}, {'0_60': 8.1, 'mpg': 16}, {'0_60': 7.1, 'mpg': 24}, {'0_60': 5.8, 'mpg': 36}, {'0_60': 5.3, 'mpg': 38}, {'0_60': 3.9, 'mpg': 27}, {'0_60': 4, 'mpg': 24}, {'0_60': 5.3, 'mpg': 42}, {'0_60': 6.4, 'mpg': 33}, {'0_60': 7.6, 'mpg': 39}, {'0_60': 2.9, 'mpg': 22}, {'0_60': 4, 'mpg': 29}, {'0_60': 6.3, 'mpg': 35}, {'0_60': 6.9, 'mpg': 23}, {'0_60': 4.7, 'mpg': 35}, {'0_60': 9, 'mpg': 29}, {'0_60': 3.4, 'mpg': 29}, {'0_60': 3.8, 'mpg': 38}, {'0_60': 4.7, 'mpg': 26}, {'0_60': 3.9, 'mpg': 25}, {'0_60': 6, 'mpg': 24}, {'0_60': 4.7, 'mpg': 34}, {'0_60': 2.7, 'mpg': 26}];

// const data = JSON.parse(raw_data);
console.log(data)

function loadData() {
  data.sort((a,b) => {
    return a['0_60'] - b['0_60'];
  });

  console.log('load data called')
  console.log(getMpgs(5.0));
}

function getMpgs(speed) {
  const mpgs = [];
  for(let i=0; i < data.length; i++) {
    if(data[i]['0_60'] <= speed) {
      mpgs.push(data[i]['mpg']);
    } else {
      return mpgs;
    }
  }
  return mpgs;
}

function getStats(speed) {
  const mpgs = getMpgs(speed);

  const n = mpgs.length;
  let sum = 0;
  for (let i=0; i<n; i++) {
    sum += mpgs[i]
  }
  const mean = sum / n;

  let sos = 0;
  for (let i=0; i<n; i++) {
    sos += ((mpgs[i] - mean) * (mpgs[i] - mean));
  }

  const variance = sos / n;
  const stddev = Math.sqrt(variance);

  return {
    'mean': mean,
    'stddev': stddev
  }
}

module.exports = {
  loadData: loadData,
  getStats: getStats
}
